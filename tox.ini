[tox]
envlist = py{36,37}

[testenv]
passenv = TOXENV CI TRAVIS TRAVIS_* CODECOV_*
setenv =
    PYTHONPATH = {toxinidir}
    PYTHONWARNINGS = all
deps =
    -rrequirements.txt
    -rrequirements_dev.txt
commands = pytest -v -W all --random-order hocr_parser {posargs:tests}

[testenv:all]
commands = pytest -v -W all --random-order --mypy --flake8 --black --cov=hocr_parser hocr_parser {posargs:tests}

[testenv:mypy]
commands = pytest -v -W all --mypy -m mypy hocr_parser tests

[testenv:flake8]
commands = pytest -v -W all --flake8 -m flake8 hocr_parser tests

[testenv:black]
commands = pytest -v -W all --black -m black hocr_parser tests

[testenv:style]
commands = pytest -v -W all --flake8 --black -m 'flake8 or black' hocr_parser tests

[testenv:cover]
commands = pytest -v -W all --cov=hocr_parser --cov-report=term --cov-report=html hocr_parser tests

[testenv:coveralls]
deps =
    {[testenv]deps}
    coveralls
commands =
    {[testenv:cover]commands}
    coveralls

[testenv:codecov]
deps =
    {[testenv]deps}
    codecov
commands =
    {[testenv:cover]commands}
    codecov